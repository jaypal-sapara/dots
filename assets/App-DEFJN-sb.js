import{r as x,j as n}from"./index-CGPkUg2d.js";import{n as f,d as m,t as g,c as p,f as d,P as h,a as y,b as j,e as M,L as v}from"./Layout-DswNX2hn.js";function w(e,t,c){const[a,o]=f(c==null?void 0:c.in,e,t),s=l(a,o),r=Math.abs(m(a,o));a.setDate(a.getDate()-s*r);const u=+(l(a,o)===-s),i=s*(r-u);return i===0?0:i}function l(e,t){const c=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return c<0?-1:c>0?1:c}function D(e,t){const a=g(e,t==null?void 0:t.in).getFullYear();return a%400===0||a%4===0&&a%100!==0}/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]],L=p("Dot",N),z=({dates:e})=>{const t=new Date,c=x.useRef(matchMedia("(pointer: coarse)").matches),a=s=>{s.target.dataset.state==="open"||c.current||s.target.click()},o=s=>{s.target.dataset.state==="open"&&s.target.click()};return n.jsx("div",{className:"mx-auto grid grid-cols-[repeat(auto-fit,minmax(20px,1fr))] md:grid-cols-[repeat(auto-fit,minmax(27px,1fr))]",children:e.map(s=>{const r=d(s,"yyyy-MM-dd");return n.jsxs(h,{children:[n.jsx(y,{asChild:!0,children:n.jsx("div",{"data-date":r,onMouseEnter:a,onMouseLeave:o,className:"grid size-5 place-content-center md:size-7",children:n.jsx(L,{className:"pointer-events-none size-5 md:size-7 "+(s<=t?"text-past":"size-4 text-remaining md:size-6")})})}),n.jsx(j,{className:"min-w-0 max-w-[280px] px-2 py-1 text-center text-xs shadow-none",side:"top",children:d(s,"EEE, dd MMM")})]},r)})})};function _(){const e=new Date().getFullYear(),t=new Date,c=new Date(e,11,31),a=D(e)?366:365;let o=new Date(`${e}-01-01`);const s=[];for(let r=1;r<=a;r++)s.push(o),o=M(o,1);return n.jsxs(v,{children:[n.jsxs("div",{className:"align-with-calender flex flex-wrap items-center justify-between gap-2",children:[n.jsx("div",{children:n.jsx("p",{children:e})}),n.jsx("div",{className:"inline-flex gap-2",children:n.jsxs("p",{className:"text-center",children:[w(c,t)," ",n.jsx("span",{className:"text-muted-foreground",children:"days left"})]})})]}),n.jsx(z,{dates:s})]})}export{_ as default};
